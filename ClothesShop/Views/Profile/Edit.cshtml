@model ProfileViewModel
<link rel="stylesheet" href="~/css/profile.css" />

<div class="container mt-5" style="padding-top:120px;">
    <div class="row">

        <!-- Sidebar -->
        <div class="col-md-3 mb-4">
            @await Html.PartialAsync("_AccountSidebar")
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <div class="card shadow-sm rounded-4 p-4">

                <h3 class="fw-bold mb-4">Cập nhật hồ sơ</h3>
                <hr />

                @if (TempData["error"] != null)
                {
                    <div class="alert alert-danger">@TempData["error"]</div>
                }

                <form asp-action="Edit" method="post" enctype="multipart/form-data">

                    <!-- Avatar -->
                    <div class="text-center mb-4">
                        <img src="/avatar/@Model.AvatarUrl"
                             class="rounded-circle border"
                             style="width:130px; height:130px; object-fit:cover;" />

                        <div class="mt-2">
                            <input type="file" name="AvatarFile" class="form-control" />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Họ</label>
                            <input class="form-control" name="FirstName" value="@Model.FirstName" required />
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">Tên</label>
                            <input class="form-control" name="LastName" value="@Model.LastName" required />
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">Ngày sinh</label>
                            <input type="date" class="form-control"
                                   name="DateOfBirth"
                                   value="@(Model.DateOfBirth?.ToString("yyyy-MM-dd"))" />
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">Số điện thoại</label>
                            <input class="form-control" name="PhoneNumber" value="@Model.PhoneNumber" />
                        </div>

                        <div class="col-md-12 mb-3">
                            <label class="form-label">Email</label>
                            <input class="form-control" value="@Model.Email" disabled />
                        </div>
                    </div>

                    <button class="btn btn-primary fw-bold px-4 mt-3" type="submit">
                        Lưu thay đổi
                    </button>
                    <a href="/Profile" class="btn btn-secondary px-4 mt-3">Hủy</a>

                </form>

            </div>
        </div>

    </div>
</div>
