@model IEnumerable<ClothesShop.Models.Address>

<div class="container mt-5" style="padding-top:120px;">
    <div class="card shadow-sm rounded-4 p-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h4 class="fw-bold">Sổ địa chỉ</h4>
            <a asp-controller="Address"
               asp-action="Create"
               class="btn btn-primary">
                <i class="bi bi-plus"></i> Thêm địa chỉ
            </a>
        </div>
    

        @if (!Model.Any())
        {
            <p class="text-muted">Bạn chưa có địa chỉ nào.</p>
        }
        else
        {
            foreach (var a in Model)
            {
                <div class="border rounded-4 p-3 mb-3 position-relative">

                    @if (a.IsDefault)
                    {
                        <span class="badge bg-success position-absolute" style="right:10px;">Mặc định</span>
                    }

                    <p class="fw-bold">@a.FullName</p>
                    <p class="mb-1">@a.PhoneNumber</p>
                    <p class="mb-1">@a.Street, @a.Ward, @a.District, @a.City</p>

                    <div class="mt-2">
                        <a href="/Address/Edit/@a.Id" class="btn btn-warning btn-sm">Sửa</a>
                        <a href="/Address/Delete/@a.Id" class="btn btn-danger btn-sm"
                           onclick="return confirm('Bạn chắc chắn muốn xóa?')">Xóa</a>

                        @if (!a.IsDefault)
                        {
                            <a href="/Address/SetDefault/@a.Id" class="btn btn-outline-primary btn-sm">Đặt mặc định</a>
                        }
                    </div>
                </div>
            }
        }
        <a asp-controller="Profile"
           asp-action="Index"
           class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Quay lại hồ sơ
        </a>
    </div>
</div>
